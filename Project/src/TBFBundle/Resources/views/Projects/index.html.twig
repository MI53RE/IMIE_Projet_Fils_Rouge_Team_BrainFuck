{% extends 'base.html.twig' %}
{% block title %}Project{% endblock %}
{% block body %}

<div class="container project">
	{% if app.user %}

    <a href="{{ path('tbf_projects_add') }}">Créer un projet</a>

	<h2>Project!</h2>
	<div>
		<h3>Projects</h3>
		<table class="table table-striped">
			<tr>
				<th>Project's Name</th>
				<th>Project's Owner</th>
				<th>Project's Status</th>
				<th>Members Count</th>
			</tr>
			{% for project in projects if projects is defined  %}
			<tr>
				<td><a href="{{ path('tbf_projects_details', {'id': project.id}) }}"><span>{{ project.name }}</span></a></td>
				{#<td><a href="{{ path('tbf_users_details', {'id': project.owner.id}) }}"><span>{{ project.owner.name }}</span></a></td>#}
				<td></td>
				<td>{{ project.stateList(project.state) }}</td>
				<td>{{ project.members.count }}</td>
                <td class="text-center"><a href="{{ path('tbf_projects_modify', {'id': project.id}) }}"><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span></a></td>
                <td class="text-center"><a href="{{ path('tbf_projects_remove', {'id': project.id}) }}"><span class="glyphicon glyphicon-remove" aria-hidden="true"></span></a></td>
			</tr>
			{% endfor %}
		</table>
	</div>
	{% else %}
	<h6 class="text-danger">Vous devez vous logger pour avoir accès à cette page !</h6>
	{% endif %}
</div>
{% endblock %}
