{% extends 'base.html.twig' %}
{% block title %}Project{% endblock %}
{% block body %}

<div class="container project">
	{% if app.user %}
	<h1 class="result">Projet</h1>
    <a class="btn btn-primary btn-lgskills pull-left" href="{{ path('tbf_projects_add') }}">Créer un projet</a>

		<table class="table table-striped">
			<tr>
				<th class="col-md-3 col-sm-12 col-xs-12">Nom du projet</th>
				<th class="col-md-3 col-sm-12 col-xs-12">Propriétaire du projet</th>
				<th class="col-md-3 col-sm-12 col-xs-12">Statut du projet</th>
				<th class="col-md-3 col-sm-12 col-xs-12">Nombre de participants</th>
			</tr>
			{% for project in projects if projects is defined  %}
			<tr>
				<td><a href="{{ path('tbf_projects_details', {'id': project.id}) }}"><span>{{ project.name }}</span></a></td>
				{#<td><a href="{{ path('tbf_users_details', {'id': project.owner.id}) }}"><span>{{ project.owner.name }}</span></a></td>#}
				<td></td>
				<td>{{ project.stateList(project.state) }}</td>
				<td>{{ project.members.count }}</td>
                <td class="text-center"><a href="{{ path('tbf_projects_modify', {'id': project.id}) }}"><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span></a></td>
                <td class="text-center"><a href="{{ path('tbf_projects_remove', {'id': project.id}) }}"><span class="glyphicon glyphicon-remove" aria-hidden="true"></span></a></td>
			</tr>
			{% endfor %}
		</table>
	</div>
	{% else %}
	<h6 class="text-danger">Vous devez vous logger pour avoir accès à cette page !</h6>
	{% endif %}
</div>
{% endblock %}
